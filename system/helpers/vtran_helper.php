<?php
#****************************************#
# * @Author: lehieu008                   #
# * @Email: lehieu008@gmail.com          #
# * @Website: http://www.iscvietnam.net  #
# * @Copyright: 2008 - 2009              #
#****************************************#
if(!defined('BASEPATH'))exit('No direct script access allowed');
/**
 *Helper Vtran:
 *  function unsign($str)
 *  function clean($str): Xoa dau tieng viet
 *  function url($str): Xoa dau tieng viet cho url
**/
	$VMAP = array(
					'ế' => 'e',
					'ề' => 'e',
					'ể' => 'e',
					'ễ' => 'e',
					'ệ' => 'e',
					#---------------------------------E^
					'Ế' => 'e',
					'Ề' => 'e',
					'Ể' => 'e',
					'Ễ' => 'e',
					'Ệ' => 'e',
					#---------------------------------e
					'é' => 'e',
					'è' => 'e',
					'ẻ' => 'e',
					'ẽ' => 'e',
					'ẹ' => 'e',
					'ê' => 'e',
					#---------------------------------E
					'É' => 'e',
					'È' => 'e',
					'Ẻ' => 'e',
					'Ẽ' => 'e',
					'Ẹ' => 'e',
					'Ê' => 'e',
					#---------------------------------i
					'í' => 'i',
					'ì' => 'i',
					'ỉ' => 'i',
					'ĩ' => 'i',
					'ị' => 'i',
					#---------------------------------I
					'Í' => 'i',
					'Ì' => 'i',
					'Ỉ' => 'i',
					'Ĩ' => 'i',
					'Ị' => 'i',
					#---------------------------------o^
					'ố' => 'o',
					'ồ' => 'o',
					'ổ' => 'o',
					'ỗ' => 'o',
					'ộ' => 'o',
					#---------------------------------O^
					'Ố' => 'o',
					'Ồ' => 'o',
					'Ổ' => 'o',
					'Ô' => 'o',
					'Ộ' => 'o',
					#---------------------------------o*
					'ớ' => 'o',
					'ờ' => 'o',
					'ở' => 'o',
					'ỡ' => 'o',
					'ợ' => 'o',
					#---------------------------------O*
					'Ớ' => 'o',
					'Ờ' => 'o',
					'Ở' => 'o',
					'Ỡ' => 'o',
					'Ợ' => 'o',
					#---------------------------------u*
					'ứ' => 'u',
					'ừ' => 'u',
					'ử' => 'u',
					'ữ' => 'u',
					'ự' => 'u',
					#---------------------------------U*
					'Ứ' => 'u',
					'Ừ' => 'u',
					'Ử' => 'u',
					'Ữ' => 'u',
					'Ự' => 'u',
					#---------------------------------y
					'ý' => 'y',
					'ỳ' => 'y',
					'ỷ' => 'y',
					'ỹ' => 'y',
					'ỵ' => 'y',
					#---------------------------------Y
					'Ý' => 'y',
					'Ỳ' => 'y',
					'Ỷ' => 'y',
					'Ỹ' => 'y',
					'Ỵ' => 'y',
					#---------------------------------DD
					'Đ' => 'd',
					'đ' => 'd',
					#---------------------------------o
					'ó' => 'o',
					'ò' => 'o',
					'ỏ' => 'o',
					'õ' => 'o',
					'ọ' => 'o',
					'ô' => 'o',
					'ơ' => 'o',
					#---------------------------------O
					'Ó' => 'o',
					'Ò' => 'o',
					'Ỏ' => 'o',
					'Õ' => 'o',
					'Ọ' => 'o',
					'Ô' => 'o',
					'Ơ' => 'o',
					#---------------------------------u
					'ú' => 'u',
					'ù' => 'u',
					'ủ' => 'u',
					'ũ' => 'u',
					'ụ' => 'u',
					'ư' => 'u',
					#---------------------------------U
					'Ú' => 'u',
					'Ù' => 'u',
					'Ủ' => 'u',
					'Ũ' => 'u',
					'Ụ' => 'u',
					'Ư' => 'u',
					
					#---------------------------------a^
					'ấ' => 'a',
					'ầ' => 'a',
					'ẩ' => 'a',
					'ẫ' => 'a',
					'ậ' => 'a',
					#---------------------------------A^
					'Ấ' => 'a',
					'Ầ' => 'a',
					'Ẩ' => 'a',
					'Ẫ' => 'a',
					'Ậ' => 'a',
					#---------------------------------a(
					'ắ' => 'a',
					'ằ' => 'a',
					'ẳ' => 'a',
					'ẵ' => 'a',
					'ặ' => 'a',
					#---------------------------------A(
					'Ắ' => 'a',
					'Ằ' => 'a',
					'Ẳ' => 'a',
					'Ẵ' => 'a',
					'Ặ' => 'a',
					#---------------------------------A
					'Á' => 'a',
					'À' => 'a',
					'Ả' => 'a',
					'Ã' => 'a',
					'Ạ' => 'a',
					'Â' => 'a',
					'Ă' => 'a',
					#---------------------------------a
					'ả' => 'a',
					'ã' => 'a',
					'ạ' => 'a',
					'â' => 'a',
					'ă' => 'a',
					'à' => 'a',
					'á' => 'a'
				);

function unsign($str)
{
    global $VMAP;
	return strtr($str, $VMAP);
}

function clean($str)
{
    global $VMAP;
	return strtolower(trim(preg_replace('/\W/',' ',strtr($str, $VMAP))));
}

function url($str)
{
    global $VMAP;
	$str=strtr($str, $VMAP);
	$str=strtr($str, array(
							' '=>'-',"'"=>'','"'=>'','“'=>'','”'=>'','’'=>'',
							':'=>'','.'=>'',','=>'','®'=>'(R)','©'=>'(C)'));
	return $str;
}